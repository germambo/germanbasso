<!DOCTYPE html>
<html lang="es">

<head>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WHHCW3M805"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-WHHCW3M805');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>>Vaso – Germán Basso</title>
    <meta name="description"
        content="Portfolio de Germán Basso – Director audiovisual. Largometrajes, documentales, contenido institucional y videoclips.">
    <meta property="og:title" content=">Vaso – Germán Basso">
    <meta property="og:description"
        content="Portfolio de Germán Basso – Director audiovisual. Largometrajes, documentales, contenido institucional y videoclips.">
    <meta property="og:image" content="Recursos/carrerovertical.jpg">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content=">Vaso – Germán Basso">
    <meta name="twitter:description" content="Portfolio de Germán Basso – Director audiovisual.">
    <meta name="twitter:image" content="Recursos/carrerovertical.jpg">
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='80' font-family='sans-serif' fill='white'>v</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Asimovian:wght@400&family=Ubuntu+Sans:ital,wght@0,100..800;1,100..800&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Ubuntu Sans", -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #000;
            color: #fff;
            overflow: hidden;
        }

        /* Bio section with fixed title and scrollable text */
        .bio-wrapper {
            max-width: 800px;
            width: 100%;
            padding: 120px 100px 120px;
            /* Reduced padding since title is now fixed */
            height: 85vh;
            position: relative;
            overflow: hidden;
            /* Hide overflow from wrapper */
        }

        .bio-header {
            position: fixed;
            top: 200px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            background: #000;
            padding: 0 50px;
            width: 100%;
            max-width: 800px;
        }

        .bio-header h1 {
            font-size: 42px;
            margin-bottom: 0;
            font-weight: 300;
            text-align: center;
        }

        .bio-text-container {
            margin-top: 0px;
            /* Space for fixed title */
            height: calc(100vh - 300px);
            /* Adjust height considering fixed title */
            overflow-y: auto;
            position: relative;
        }

        /* Fade mask at top of text container */
        .bio-text-container::before {
            content: '';
            position: fixed;
            top: 150px;
            /* Just below the title */
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 800px;
            height: 40px;
            background: linear-gradient(to bottom, #000 0%, transparent 100%);
            pointer-events: none;
            z-index: 99;
        }

        /* Hide native scrollbar for bio text */
        .bio-text-container::-webkit-scrollbar {
            display: none;
        }

        .bio-text-container {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .bio-text p {
            font-size: 16px;
            line-height: 1.7;
            opacity: 0.9;
            text-align: justify;
            font-weight: 300;
            padding-top: 20px;
            /* Space from fade mask */
        }

        @media (max-width: 768px) {
            .bio-text p {
                text-align: left;
            }
        }

        p,
        .content-wrapper p,
        .project-description p,
        .video-description p,
        .review-text p,
        .contact-item a,
        .detail-item span,
        .award-festival li,
        .project-header p {
            font-family: "Ubuntu Sans", sans-serif;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        .logo,
        .nav-item,
        .dropdown-item,
        .mobile-nav-item,
        .mobile-project-item,
        .project-title,
        .project-subtitle,
        .project-header h1,
        .content-wrapper h1,
        .project-info-detail h3,
        .project-reviews h3,
        .project-details h3,
        .project-links h3,
        .project-awards h3,
        .vialidad-projects h3,
        .roca-additional-video h3,
        .fiat-rectangles h3,
        .alpapuyo-video h3,
        .cosasviejas-video h3,
        .video-description h4,
        .award-festival h4,
        .contact-item strong {
            font-family: "Asimovian", sans-serif;
        }

        /* Navigation - Dynamic positioning */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            height: 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #000;
            backdrop-filter: none;
            transition: all 0.3s ease;
            padding: 0 50px;
        }

        .nav:hover {
            background: #000;
            backdrop-filter: none;
        }

        .nav.dynamic-position {
            position: absolute;
            top: auto;
            bottom: auto;
        }

        .logo {
            font-size: 35px;
            font-weight: 400;
            letter-spacing: 1px;
            contain: layout style;
            /* Optimize rendering */
        }

        .nav-menu {
            display: flex;
            gap: 40px;
            align-items: center;
        }

        /* Hamburger Menu for Mobile */
        .hamburger-menu {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 5px;
            gap: 4px;
        }

        .hamburger-line {
            width: 20px;
            height: 2px;
            background: #fff;
            transition: all 0.3s ease;
        }


        .hamburger-menu.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .hamburger-menu.active .hamburger-line:nth-child(2) {
            opacity: 0;
        }

        .hamburger-menu.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* Mobile Menu Overlay */
        .mobile-menu-overlay {
            position: fixed;
            top: 60px;
            right: 0;
            width: 300px;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px 25px 50px 25px;
            /* Increased bottom padding from 30px to 50px */
            transform: translateX(100%);
            transition: transform 0.3s ease;
            z-index: 999;
            display: none;
            visibility: hidden;
            opacity: 0;
            border-radius: 8px 0 0 8px;
        }

        .mobile-menu-overlay.active {
            transform: translateX(0);
            visibility: visible;
            opacity: 1;
        }

        .mobile-menu-items {
            display: flex;
            flex-direction: column;
            gap: 20px;
            text-align: right;
        }

        .mobile-nav-item {
            font-size: 18px;
            font-weight: 500;
            letter-spacing: 1px;
            color: #fff;
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        .mobile-nav-item:hover {
            opacity: 0.7;
        }

        .mobile-project-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: -5px;
            text-align: right;
        }

        .mobile-project-item {
            font-size: 16px;
            font-weight: 400;
            font-style: italic;
            letter-spacing: 0.5px;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        .mobile-project-item:hover {
            opacity: 0.6;
        }

        /* Progress Dots in Navigation */
        .nav-progress-dots {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            gap: 8px;
            opacity: 1;
            pointer-events: all;
            z-index: 1001;
        }

        .nav-progress-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-progress-dot.active {
            background: #fff;
            transform: scale(1.2);
        }

        .nav-progress-dot:hover {
            background: rgba(255, 255, 255, 0.8);
        }

        .nav-dropdown {
            position: relative;
        }

        .nav-item {
            color: #fff;
            text-decoration: none;
            font-size: 18px;
            font-weight: 400;
            letter-spacing: 0.5px;
            transition: opacity 0.3s ease;
            cursor: pointer;
            display: block;
            position: relative;
        }

        .nav-item::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 50%;
            width: 0;
            height: 1px;
            background: #fff;
            transition: width 0.3s ease, left 0.3s ease;
        }

        .nav-item:hover::after {
            width: 100%;
            left: 0;
        }

        .nav-item:hover {
            opacity: 0.7;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 10px 0;
            min-width: 180px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .nav-dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            display: block;
            padding: 10px 20px;
            color: #fff;
            text-decoration: none;
            font-size: 14px;
            transition: background-color 0.3s ease;
        }

        .dropdown-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Video Carousel */
        .carousel-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        .video-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
        }

        .video-slide.active {
            opacity: 1;
        }

        .video-poster {
            width: auto;
            height: auto;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            position: absolute;
            z-index: 45;
            transition: opacity 0.8s ease;
            opacity: 1;
            pointer-events: none;
        }

        .video-slide.v-playing .video-poster {
            opacity: 0;
        }

        .video-slide video {
            width: auto;
            height: auto;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            cursor: pointer;
            position: relative;
            z-index: 50;
            opacity: 0;
            transition: opacity 0.8s ease;
        }

        /* Video loading spinner */
        .video-slide .video-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 32px;
            height: 32px;
            margin: -16px 0 0 -16px;
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-top-color: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            z-index: 44;
            opacity: 1;
            transition: opacity 0.4s ease;
        }

        .video-slide.v-playing .video-spinner {
            opacity: 0;
            pointer-events: none;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .video-slide.v-playing video {
            opacity: 1;
        }

        /* Video clickable area (excludes project info area) */
        .video-clickable {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 120px;
            /* Exclude bottom area where project info is */
            cursor: pointer;
            z-index: 60;
        }

        /* Pause Icon Animation */
        .pause-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 200;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            backdrop-filter: blur(10px);
        }

        .pause-icon.show {
            opacity: 1;
        }

        .pause-icon svg {
            width: 32px;
            height: 32px;
            color: #fff;
        }

        /* Video Controls */
        .video-controls {
            position: absolute;
            right: 0;
            top: 0;
            padding-right: 50px;
            padding-top: 3px;
        }

        .sound-toggle {
            background: transparent;
            border: 1px solid transparent;
            color: #fff;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: none;
        }

        .sound-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }

        .sound-toggle svg {
            width: 20px;
            height: 20px;
        }

        /* Navigation Arrows */
        .nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: transparent;
            border: 1px solid transparent;
            color: #fff;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 100;
            backdrop-filter: none;
        }

        .nav-arrow:hover {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        /* Remove hover effect on mobile after touch */

        @media (max-width: 768px) {
            .bio-wrapper {
                padding: 150px 5% 120px;
                max-width: none;
            }

            .bio-header {
                max-width: none;
                padding: 0 5%;
            }

            .bio-text-container::before {
                max-width: none;
            }

            .bio-text-container {
                height: calc(100vh - 320px);
            }
        }

        @media (hover: hover) {
            .nav-arrow:hover {
                background: transparent;
                border: 1px solid transparent;
                backdrop-filter: none;
            }

            .nav-arrow:active {
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                backdrop-filter: blur(10px);
            }
        }

        .nav-arrow.prev {
            left: 50px;
        }

        .nav-arrow.next {
            right: 50px;
        }

        .nav-arrow svg {
            width: 24px;
            height: 24px;
        }

        /* Bottom Navigation Bar - Dynamic positioning with web compatibility */
        .bottom-nav {
            position: fixed !important;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 1000 !important;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding-top: 15px;
            background: #000 !important;
            backdrop-filter: none;
            transition: all 0.3s ease;
            padding-left: 50px;
            padding-right: 50px;
            transform: translateY(0);
            margin: 0 !important;
            border: none !important;
            box-shadow: none !important;
        }

        .bottom-nav:hover {
            background: #000 !important;
            backdrop-filter: none;
        }

        .bottom-nav.dynamic-position {
            position: fixed !important;
            bottom: auto !important;
            top: auto;
        }

        .bottom-nav:hover {
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(8px);
        }

        /* Project Info */
        .project-info {
            display: flex;
            align-items: center;
            gap: 20px;
            white-space: nowrap;
        }

        .project-title {
            font-size: 18px;
            font-weight: 600;
            letter-spacing: 1px;
            cursor: pointer;
            transition: opacity 0.3s ease;
            text-transform: uppercase;
        }

        .project-title:hover {
            opacity: 0.7;
        }

        .project-divider {
            width: 1px;
            height: 20px;
            background: rgba(255, 255, 255, 0.5);
        }

        .project-subtitle {
            font-size: 16px;
            opacity: 0.8;
            letter-spacing: 0.5px;
            cursor: pointer;
            transition: opacity 0.3s ease;
            text-transform: lowercase;
        }

        .project-subtitle:hover {
            opacity: 0.6;
        }

        /* Content Sections */
        .content-section {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease-out, transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
            transform: translateY(20px);
            will-change: opacity, transform;
        }

        /* Starting positions for Entry (immediate) */
        .content-section.slide-left {
            transform: translateX(-80px);
            opacity: 0 !important;
            transition: none !important;
        }

        .content-section.slide-right {
            transform: translateX(80px);
            opacity: 0 !important;
            transition: none !important;
        }

        /* Active state - triggers the entry transition */
        .content-section.active {
            opacity: 1 !important;
            pointer-events: all;
            transform: translate(0, 0);
            transition: opacity 0.35s ease-out, transform 0.35s cubic-bezier(0.25, 1, 0.5, 1) !important;
        }

        /* Exit states - used on clones for overlapping effect */
        .content-section.is-exiting-clone {
            z-index: 501;
            /* Stay on top of the new content */
            pointer-events: none;
        }

        .content-section.is-exiting {
            opacity: 0 !important;
            transition: opacity 0.35s ease-in, transform 0.35s ease-in !important;
        }

        .content-section.exit-left {
            transform: translateX(-80px) !important;
        }

        .content-section.exit-right {
            transform: translateX(80px) !important;
        }

        .content-section.exit-down {
            transform: translateY(20px) !important;
        }

        .content-wrapper {
            max-width: 800px;
            padding: 100px;
            text-align: center;
        }

        .content-wrapper h1 {
            font-size: 48px;
            margin-bottom: 50px;
            /* Increased from 30px to 50px for contact section */
            font-weight: 300;
        }

        .content-wrapper p {
            font-size: 18px;
            line-height: 1.6;
            opacity: 0.8;
        }

        /* Contact Styles */
        .contact-info {
            text-align: left;
            max-width: 500px;
            margin: 0 auto;
        }

        .contact-info>p {
            text-align: center;
            margin-bottom: 40px;
        }

        .contact-details {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .contact-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 0px solid rgba(255, 255, 255, 0.1);
        }

        .contact-item:last-child {
            border-bottom: none;
        }

        .contact-item strong {
            font-size: 16px;
            opacity: 1;
            font-weight: 300;
        }

        .contact-item a {
            color: #fff;
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        .contact-item a:hover {
            opacity: 0.7;
        }

        /* Project Detail Styles */
        .project-detail-wrapper {
            max-width: 1200px;
            width: 100%;
            padding: 150px 50px 120px;
            /* Increased top padding from 100px to 150px */
            height: 100vh;
            overflow-y: auto;
            position: relative;
        }

        /* Hide native scrollbar */
        .project-detail-wrapper::-webkit-scrollbar {
            display: none;
        }

        .project-detail-wrapper {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Custom scrollbar indicator */
        .custom-scrollbar {
            position: fixed;
            right: 20px;
            top: 25vh;
            height: 50vh;
            width: 6px;
            background: transparent;
            border-radius: 10px;
            z-index: 1001;
            pointer-events: none;
        }

        .custom-scrollbar-thumb {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            transition: background 0.3s ease, opacity 0.3s ease;
            opacity: 0;
        }

        .custom-scrollbar-thumb.scrolling {
            opacity: 1;
        }

        .custom-scrollbar-thumb.active {
            background: rgba(255, 255, 255, 0.5);
        }

        .back-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            background: transparent;
            border: 1px solid transparent;
            color: #fff;
            padding: 10px 18px;
            border-radius: 25px;
            /* More rounded to feel closer to the "circulitos" */
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 40px;
            font-size: 14px;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .back-btn svg {
            width: 16px;
            height: 16px;
        }

        /* Project Navigation Controls */
        .project-nav-container {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 40px;
        }

        .project-nav-controls {
            display: flex;
            gap: 18px;
            align-items: center;
        }

        .project-nav-btn {
            background: transparent;
            border: 1px solid transparent;
            color: #fff;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .project-nav-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .project-nav-btn svg {
            width: 20px;
            height: 20px;
        }

        /* Tooltip styles */
        .project-nav-btn::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: -35px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: #fff;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 1002;
        }

        .project-nav-btn:hover::after {
            opacity: 1;
            visibility: visible;
        }

        .project-content {
            display: grid;
            gap: 40px;
        }

        .project-header h1 {
            font-size: 42px;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .project-header p {
            font-size: 18px;
            opacity: 0.7;
            margin-bottom: 0;
            /* Reduced to 0 */
        }

        .project-media {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }

        .video-embed-large {
            position: relative;
            width: 100%;
            height: 450px;
            border-radius: 8px;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.05);
        }

        .video-embed-large iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
        }

        .project-media video {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }

        .project-info-detail {
            display: grid;
            gap: 30px;
            text-align: left;
        }

        .project-info-detail h3 {
            font-size: 24px;
            margin-bottom: 15px;
            font-weight: 400;
        }

        .project-description p {
            font-size: 16px;
            line-height: 1.6;
            opacity: 0.8;
        }

        /* Project Reviews Styles */
        .project-reviews {
            display: grid;
            gap: 30px;
            text-align: left;
        }

        .reviews-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 15px;
        }

        .review-item {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .review-text p {
            font-size: 15px;
            line-height: 1.6;
            opacity: 0.85;
            font-style: italic;
            color: #fff;
        }

        .review-author {
            text-align: right;
            opacity: 0.7;
            display: flex;
            flex-direction: column;
            gap: 4px;
            align-items: flex-end;
        }

        .review-author strong {
            font-size: 14px;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .review-source {
            font-size: 14px;
            opacity: 0.7;
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        .review-rating {
            display: flex;
            gap: 2px;
            margin-top: 2px;
        }

        .star {
            font-size: 14px;
            line-height: 1;
        }

        .star.filled {
            color: #fff;
        }

        .star.empty {
            color: rgba(255, 255, 255, 0.3);
        }

        @media (max-width: 768px) {
            .reviews-grid {
                grid-template-columns: 1fr;
                gap: 25px;
            }

            /* Mobile project navigation */
            .project-nav-controls {
                flex-direction: column;
                gap: 10px;
                /* Increased gap from 7px to 10px (3px more) */
                align-items: flex-end;
            }

            .project-nav-btn {
                width: auto;
                height: auto;
                border-radius: 0;
                padding: 0;
                font-size: 12px;
                border: none;
                background: transparent;
                display: flex;
                align-items: center;
                gap: 6px;
                opacity: 0.8;
                transition: opacity 0.3s ease;
            }

            .project-nav-btn:hover {
                background: transparent;
                border: none;
                backdrop-filter: none;
                opacity: 1;
            }

            .project-nav-btn svg {
                display: block;
                width: 14px;
                height: 14px;
            }

            .project-nav-btn::after {
                display: none;
            }

            .project-nav-btn::before {
                content: attr(data-mobile-text);
            }
        }

        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .detail-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .detail-item strong {
            font-size: 14px;
            opacity: 0.7;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .detail-item span {
            font-size: 16px;
        }

        .links-container {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .project-link {
            display: inline-block;
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .project-link:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
        }

        /* Project Awards Styles */
        .project-awards {
            display: grid;
            gap: 30px;
            text-align: left;
        }

        .awards-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px 30px;
            margin-top: 15px;
        }

        .award-festival {
            padding: 0;
            border: none;
        }

        .award-festival h4 {
            font-size: 16px;
            margin-bottom: 8px;
            font-weight: 500;
            color: #fff;
            opacity: 0.9;
        }

        .award-festival ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .award-festival li {
            font-size: 14px;
            line-height: 1.4;
            opacity: 0.8;
            color: #fff;
            margin-bottom: 3px;
            padding-left: 12px;
            position: relative;
        }

        .award-festival li:before {
            content: "•";
            position: absolute;
            left: 0;
            color: rgba(255, 255, 255, 0.6);
            font-size: 12px;
        }

        @media (max-width: 768px) {
            .awards-list {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }

        /* Vialidad Projects Styles */
        .vialidad-projects {
            margin-top: 30px;
        }

        .vialidad-videos {
            display: flex;
            flex-direction: column;
            gap: 40px;
            margin-top: 20px;
        }

        .video-row {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 30px;
            align-items: flex-start;
            padding: 20px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .video-row:last-child {
            border-bottom: none;
        }

        .video-embed {
            position: relative;
            width: 100%;
            height: 225px;
            border-radius: 8px;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.05);
        }

        .video-embed iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
        }

        .video-description {
            padding: 10px 0;
        }

        .video-description h4 {
            font-size: 20px;
            margin-bottom: 15px;
            font-weight: 500;
            color: #fff;
            line-height: 1.3;
        }

        .video-description p {
            font-size: 15px;
            line-height: 1.6;
            opacity: 0.8;
            color: #fff;
        }

        @media (max-width: 1024px) {
            .video-row {
                grid-template-columns: 350px 1fr;
                gap: 25px;
            }

            .video-embed {
                height: 197px;
            }
        }

        @media (max-width: 768px) {
            .video-row {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .video-embed {
                height: 225px;
            }

            .video-description h4 {
                font-size: 18px;
            }

            .video-description p {
                font-size: 14px;
            }
        }

        /* FIAT Rectangle Grid */
        .fiat-rectangles {
            display: grid;
            gap: 30px;
            text-align: left;
        }

        .rectangles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(212px, 212px));
            gap: 20px;
            justify-content: center;
            margin-top: 15px;
        }

        .fiat-rectangle {
            width: 212px;
            height: 379px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            transition: all 0.3s ease;
            cursor: pointer;
            overflow: hidden;
            position: relative;
        }

        .fiat-rectangle:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }

        .fiat-rectangle img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 7px;
        }

        @media (max-width: 768px) {
            .rectangles-grid {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
                gap: 15px;
            }

            .fiat-rectangle {
                width: 100%;
                max-width: 212px;
                margin: 0 auto;
            }
        }

        .project-details-roca p {
            font-size: 16px;
            line-height: 1.6;
            opacity: 0.8;
        }

        /* YouTube lazy-load placeholder */
        .youtube-placeholder {
            position: relative;
            width: 100%;
            height: 100%;
            cursor: pointer;
            overflow: hidden;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
        }

        .youtube-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
            transition: opacity 0.3s ease;
        }

        .youtube-placeholder:hover img {
            opacity: 0.8;
        }

        .yt-play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 68px;
            height: 48px;
            transition: opacity 0.3s ease;
        }

        .youtube-placeholder:hover .yt-play-btn {
            opacity: 0.9;
        }

        .yt-play-btn svg {
            width: 100%;
            height: 100%;
        }

        .progress-dots {
            display: none;
        }

        @media (max-width: 768px) {
            .project-info {
                gap: 4px;
                /* Further reduced gap to bring subtitle even closer to title */
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .project-title {
                font-size: 16px;
            }

            .project-subtitle {
                font-size: 14px;
            }

            .project-divider {
                display: none;
                /* Hide divider when stacked */
            }

            .nav {
                height: 50px;
                padding: 0 25px;
            }

            .logo {
                font-size: 24px;
                line-height: 1.2;
                white-space: pre-line;
            }

            /* Hide desktop menu, show hamburger */
            .nav-menu {
                display: none;
            }

            .hamburger-menu {
                display: flex;
            }

            .mobile-menu-overlay {
                display: block;
                padding: 30px 25px 50px 25px;
                /* Updated bottom padding to match */
                top: 71px;
                /* Adjusted for mobile nav height + new position */
                width: 240px;
                /* 20% wider than before (200px) */
            }

            /* Compact progress dots for mobile */
            .nav-progress-dots {
                gap: 4px;
            }

            .nav-progress-dot {
                width: 4px;
                height: 4px;
            }

            .bottom-nav {
                height: 70px;
                /* Increased height for mobile to accommodate stacked content */
                padding-top: 0;
                /* Remove top padding to center content properly */
                padding-left: 25px;
                padding-right: 25px;
                display: flex;
                align-items: center;
                /* Center content vertically */
                justify-content: center;
            }

            .video-controls {
                padding-right: 25px;
                padding-top: 0;
                /* Changed from 2px to 0 */
                display: flex;
                align-items: center;
                /* Added to center vertically */
                height: 100%;
                /* Added to take full height of footer */
            }

            .nav-arrow {
                width: 50px;
                height: 50px;
            }

            .nav-arrow.prev {
                left: 25px;
            }

            .nav-arrow.next {
                right: 25px;
            }

            .project-detail-wrapper {
                padding: 151px 25px 50px;
                /* Adjusted top padding from 101px to 151px (50px more) */
            }

            /* Mobile back button - remove box styling */
            .back-btn {
                background: transparent;
                border: none;
                padding: 0;
                gap: 6px;
                font-size: 12px;
                opacity: 0.8;
                transition: opacity 0.3s ease;
            }

            .back-btn:hover {
                background: transparent;
                border: none;
                opacity: 1;
            }

            .back-btn svg {
                width: 14px;
                height: 14px;
            }

            /* Reduce space between navigation and project title */
            .project-nav-container {
                margin-bottom: 30px;
                /* Reduced from 40px to 30px (10px less) */
            }

            .detail-grid {
                grid-template-columns: 1fr;
            }

            .links-container {
                flex-direction: column;
            }
        }

        /* Toast Notification - Email Copy */
        .copy-toast {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 12px 24px;
            border-radius: 30px;
            font-size: 14px;
            letter-spacing: 0.05em;
            opacity: 0;
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
            z-index: 2000;
        }

        .copy-toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
    </style>
</head>

<body>
    <nav class="nav">
        <div class="logo">vaso</div>
        <div class="nav-progress-dots" id="navProgressDots">
            <div class="nav-progress-dot active"></div>
            <div class="nav-progress-dot"></div>
            <div class="nav-progress-dot"></div>
            <div class="nav-progress-dot"></div>
            <div class="nav-progress-dot"></div>
            <div class="nav-progress-dot"></div>
        </div>

        <div class="nav-menu">
            <div class="nav-dropdown">
                <a href="#" class="nav-item active" data-section="trabajos">projects</a>
                <div class="dropdown-menu">
                    <a href="#" class="dropdown-item" data-project="carrero">Carrero</a>
                    <a href="#" class="dropdown-item" data-project="roca">Roca</a>
                    <a href="#" class="dropdown-item" data-project="vialidad">Vialidad Nacional</a>
                    <a href="#" class="dropdown-item" data-project="fiat">Fiat</a>
                    <a href="#" class="dropdown-item" data-project="alpapuyo">Alpapuyo</a>
                    <a href="#" class="dropdown-item" data-project="cosasviejas">Cosas Viejas</a>
                </div>
            </div>
            <a href="#" class="nav-item" data-section="about">bio</a>
            <a href="#" class="nav-item" data-section="contact">contact</a>
            <a href="index.html" class="nav-item lang-toggle">es</a>
        </div>

        <div class="hamburger-menu" id="hamburgerMenu" aria-label="Menú de navegación" role="button" tabindex="0">
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
        </div>
    </nav>

    <div class="mobile-menu-overlay" id="mobileMenuOverlay">
        <div class="mobile-menu-items">
            <a href="#" class="mobile-nav-item" data-section="about">bio</a>
            <a href="#" class="mobile-nav-item" data-section="contact">contact</a>
            <a href="#" class="mobile-nav-item" data-section="trabajos">projects</a>
            <div class="mobile-project-items">
                <a href="#" class="mobile-project-item" data-project="carrero">Carrero</a>
                <a href="#" class="mobile-project-item" data-project="roca">Roca</a>
                <a href="#" class="mobile-project-item" data-project="vialidad">Vialidad Nacional</a>
                <a href="#" class="mobile-project-item" data-project="fiat">Fiat</a>
                <a href="#" class="mobile-project-item" data-project="alpapuyo">Alpapuyo</a>
                <a href="#" class="mobile-project-item" data-project="cosasviejas">Cosas Viejas</a>
            </div>
            <a href="index.html" class="mobile-nav-item lang-toggle">es</a>
        </div>
    </div>

    <div class="carousel-container" id="carousel">
        <div class="video-slide active">
            <img class="video-poster" src="Recursos/carrerovertical.jpg" alt="">
            <video muted loop playsinline webkit-playsinline preload="metadata" poster="Recursos/carrerovertical.jpg">
                <source src="" type="video/webm">
                <source src="" type="video/mp4">
            </video>
            <div class="video-spinner"></div>
            <div class="video-clickable"></div>
            <div class="pause-icon">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                </svg>
            </div>
        </div>

        <div class="video-slide">
            <img class="video-poster" src="" alt="">
            <video muted loop playsinline webkit-playsinline preload="none" poster="">
                <source src="" type="video/webm">
                <source src="" type="video/mp4">
            </video>
            <div class="video-spinner"></div>
            <div class="video-clickable"></div>
            <div class="pause-icon">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                </svg>
            </div>
        </div>

        <div class="video-slide">
            <img class="video-poster" src="" alt="">
            <video muted loop playsinline webkit-playsinline preload="none" poster="">
                <source src="" type="video/webm">
                <source src="" type="video/mp4">
            </video>
            <div class="video-spinner"></div>
            <div class="video-clickable"></div>
            <div class="pause-icon">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                </svg>
            </div>
        </div>

        <div class="video-slide">
            <img class="video-poster" src="" alt="">
            <video muted loop playsinline webkit-playsinline preload="none" poster="">
                <source src="" type="video/webm">
                <source src="" type="video/mp4">
            </video>
            <div class="video-spinner"></div>
            <div class="video-clickable"></div>
            <div class="pause-icon">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                </svg>
            </div>
        </div>

        <div class="video-slide">
            <img class="video-poster" src="" alt="">
            <video muted loop playsinline webkit-playsinline preload="none" poster="">
                <source src="" type="video/webm">
                <source src="" type="video/mp4">
            </video>
            <div class="video-spinner"></div>
            <div class="video-clickable"></div>
            <div class="pause-icon">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                </svg>
            </div>
        </div>

        <div class="video-slide">
            <img class="video-poster" src="" alt="">
            <video muted loop playsinline webkit-playsinline preload="none" poster="">
                <source src="" type="video/webm">
                <source src="" type="video/mp4">
            </video>
            <div class="video-spinner"></div>
            <div class="video-clickable"></div>
            <div class="pause-icon">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                </svg>
            </div>
        </div>

        <button class="nav-arrow prev" id="prevBtn" aria-label="Video anterior">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
            </svg>
        </button>

        <button class="nav-arrow next" id="nextBtn" aria-label="Video siguiente">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
            </svg>
        </button>

        <div class="video-controls">
            <button class="sound-toggle" id="soundToggleBottom" aria-label="Activar o desactivar sonido">
            </button>
        </div>
    </div>

    <div class="custom-scrollbar" id="customScrollbar">
        <div class="custom-scrollbar-thumb" id="customScrollbarThumb"></div>
    </div>

    <div class="bottom-nav">
        <div class="project-info">
            <div class="project-title" data-project="carrero">CARRERO</div>
            <div class="project-divider"></div>
            <div class="project-subtitle" data-project="carrero">feature film</div>
        </div>

        <div class="video-controls">
            <button class="sound-toggle" id="soundToggle" aria-label="Activar o desactivar sonido">
                <svg id="soundIcon" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" />
                </svg>
            </button>
        </div>
    </div>

    <div class="progress-dots" id="progressDots" style="display: none;">
        <div class="progress-dot active"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
    </div>
    </div>

    <div class="content-section" id="about">
        <div class="bio-wrapper" id="bioWrapper">
            <div class="bio-header">

            </div>

            <div class="bio-text-container" id="bioTextContainer">
                <div class="bio-text">
                    <p>Victor Gaviria, the Colombian filmmaker, says he doesn't have the keys to his inner self, and
                        that he only accesses it through 'other souls, other houses'. I see myself reflected in this
                        idea, and I link it to something I felt as a child: I am most interested in what feels distant
                        and foreign to me.<br><br>

                        I suppose that's why I chose to study history at the University of La Plata. But when I
                        finished, I realized I wasn't interested in that profession, and I found a magnetism towards
                        photography that quickly turned into filmmaking. I filmed music videos, recorded weddings, and
                        worked in television. When I wanted to enter the documentary field, I felt I lacked the tools,
                        so I did a Master's in Documentary Film at the FUC and finished with the short film 'Cosas
                        Viejas'. From there, I turned to the development of Carrero, my first feature fiction
                        film.<br><br>

                        I approached a neighborhood on the outskirts of La Plata with the intention of seeing what life
                        was like there. I met a group of 16-17 year old boys and girls eager to act, and a team was
                        formed. The script for Carrero was assembled while we rehearsed scenes to film during holidays
                        or long weekends. The four years it took to make the film were key for each person to perfect
                        their role, but also for the story to have a grounded connection with the space it intended to
                        narrate.<br><br>

                        In that same neighborhood, there is a group of immigrants from Chaco, descendants of the Qom.
                        There I met Hugo Cardozo, a prominent figure in the indigenous community of La Plata who was of
                        enormous help in making the film. The friendship built from that experience transcended the
                        film, and I went with him to Chaco to see his homeland and his community. Roca, the documentary
                        I am currently working on, focuses on those other houses, as Victor Gaviria would say.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="content-section" id="contact">
        <div class="content-wrapper">

            <div class="contact-info">
                <div class="contact-details">
                    <div class="contact-item">
                        <strong>email&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>
                        <a href="mailto:gerbasso@gmail.com" id="contactEmail">gerbasso@gmail.com</a>
                    </div>
                    <div class="contact-item">
                        <strong>instagram&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>
                        <a href="https://www.instagram.com/germanbasso/" target="_blank">@germanbasso</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="content-section" id="project-detail">
        <div class="project-detail-wrapper" id="projectDetailWrapper">
            <div class="project-nav-container">
                <button class="back-btn" id="backBtn">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
                    </svg>
                    Home
                </button>

                <div class="project-nav-controls">
                    <button class="project-nav-btn" id="prevProjectBtn" data-tooltip="Previous project"
                        data-mobile-text="Previous project">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
                        </svg>
                    </button>
                    <button class="project-nav-btn" id="nextProjectBtn" data-tooltip="Next project"
                        data-mobile-text="Next project">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
                        </svg>
                    </button>
                </div>
            </div>

            <div class="project-content">
                <div class="project-header">
                    <h1 id="projectTitle">Project Name</h1>
                    <p id="projectCategory">Category</p>
                </div>

                <div class="project-media">
                    <div class="video-embed-large">
                        <iframe id="projectYouTube" src="" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                </div>

                <div class="project-info-detail">
                    <div class="project-description">
                        <h3>Description</h3>
                        <p id="projectDescription">Detailed project description...</p>
                    </div>

                    <div class="project-reviews" id="project-reviews" style="display: none;">
                        <h3>Reviews</h3>
                        <div class="reviews-grid">
                            <div class="review-item">
                                <div class="review-text">
                                    <p>...there is in <strong>Carrero</strong> a brutal honesty, a credibility, an
                                        authenticity that is rare. It's not filmed <strong>ABOUT</strong> but
                                        <strong>WITH</strong> these non-actors, who are pure truth. They are observed,
                                        listened to, and allowed to flow and live on screen. And, for all its visceral
                                        and urgent nature, it is not a precarious or sloppy film: there is a careful,
                                        intelligent, and virtuous mise-en-scène...
                                    </p>
                                </div>
                                <div class="review-author">
                                    <strong>Diego Batlle</strong>
                                    <div class="review-source">Otros Cines</div>
                                    <div class="review-rating">
                                        <span class="star filled">★</span>
                                        <span class="star filled">★</span>
                                        <span class="star filled">★</span>
                                        <span class="star filled">★</span>
                                        <span class="star empty">☆</span>
                                    </div>
                                </div>
                            </div>
                            <div class="review-item">
                                <div class="review-text">
                                    <p><strong>Carrero</strong> appeals to a documentary imprint, courtesy of the issues
                                        raised (land seizures, drug use as a ubiquitous escapist palliative), a camera
                                        that seems to know the terrain's particularities as much as or more than the
                                        protagonist himself, and, last but not least, the air of truth breathed by a
                                        cast made up of local neighbors, all of them non-professional actors.</p>
                                </div>
                                <div class="review-author">
                                    <strong>Ezequiel Boetti</strong>
                                    <div class="review-source">Página/12</div>
                                    <div class="review-rating">
                                        <span class="star filled">★</span>
                                        <span class="star filled">★</span>
                                        <span class="star filled">★</span>
                                        <span class="star filled">★</span>
                                        <span class="star empty">☆</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="project-details">
                        <h3>Project Details</h3>
                        <div class="detail-grid" id="detail-grid-standard">
                            <div class="detail-item">
                                <strong>Client:</strong>
                                <span id="projectClient">Client</span>
                            </div>
                            <div class="detail-item">
                                <strong>Year:</strong>
                                <span id="projectYear">2024</span>
                            </div>
                            <div class="detail-item">
                                <strong>Duration:</strong>
                                <span id="projectDuration">00:00</span>
                            </div>
                            <div class="detail-item">
                                <strong>Format:</strong>
                                <span id="projectFormat">HD 1080p</span>
                            </div>
                        </div>
                        <div class="project-details-roca" id="project-details-roca" style="display: none;">
                            <p id="projectClientRoca">This documentary is currently in development.</p>
                        </div>
                    </div>

                    <div class="project-links">
                        <h3>Links</h3>
                        <div class="links-container">
                            <a href="#" id="projectLink1" class="project-link" target="_blank">Watch Online</a>
                            <a href="#" id="projectLink2" class="project-link" target="_blank">More Info</a>
                        </div>
                    </div>

                    <div class="project-awards" id="project-awards" style="display: none;">
                        <h3>Awards</h3>
                        <div class="awards-list">
                            <div class="award-festival">
                                <h4>BAFICI - Buenos Aires International Independent Film Festival:</h4>
                                <ul>
                                    <li>Encouragement Award for Argentine Cinema (International Competition)</li>
                                    <li>Best Cinematography</li>
                                </ul>
                            </div>
                            <div class="award-festival">
                                <h4>Panorama de Bahía Film Festival:</h4>
                                <ul>
                                    <li>Best Feature Film (International Competition)</li>
                                </ul>
                            </div>
                            <div class="award-festival">
                                <h4>Tandil Film Festival:</h4>
                                <ul>
                                    <li>Best Feature Film</li>
                                    <li>Best Actor (Carlos Castillo)</li>
                                </ul>
                            </div>
                            <div class="award-festival">
                                <h4>FESAALP - Latin American Higher Film Festival:</h4>
                                <ul>
                                    <li>Best Feature Film</li>
                                </ul>
                            </div>
                            <div class="award-festival">
                                <h4>Festifreak International Independent Film Festival:</h4>
                                <ul>
                                    <li>Best Actress (Aldana Jara)</li>
                                </ul>
                            </div>
                            <div class="award-festival">
                                <h4>Festival Leonardo Favio de Bolívar:</h4>
                                <ul>
                                    <li>Mejor largometraje</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="vialidad-projects" id="vialidad-projects" style="display: none;">
                        <h3>Completed Projects</h3>
                        <div class="vialidad-videos">
                            <div class="video-row">
                                <div class="video-embed">
                                    <iframe src="https://www.youtube.com/embed/LiIt8ncgEc0" frameborder="0"
                                        allowfullscreen></iframe>
                                </div>
                                <div class="video-description">
                                    <h4>Brazo Huemul Landslide - La Angostura</h4>
                                    <p>Documentary on the emergency response to the Brazo Huemul landslide, showcasing
                                        the coordinated work of technical teams and the rapid resolution of the road
                                        crisis.</p>
                                </div>
                            </div>

                            <div class="video-row">
                                <div class="video-embed">
                                    <iframe src="https://www.youtube.com/embed/s_XLHpwqQwc" frameborder="0"
                                        allowfullscreen></iframe>
                                </div>
                                <div class="video-description">
                                    <h4>2025 Comprehensive Winter Maintenance Plan</h4>
                                    <p>Institutional campaign presenting road maintenance strategies and operations
                                        during the winter season, highlighting the importance of prevention and
                                        infrastructure care.</p>
                                </div>
                            </div>

                            <div class="video-row">
                                <div class="video-embed">
                                    <iframe src="https://www.youtube.com/embed/6QQIy0L5N-k" frameborder="0"
                                        allowfullscreen></iframe>
                                </div>
                                <div class="video-description">
                                    <h4>Road Day 2024</h4>
                                    <p>Special production commemorating Road Day, celebrating the work of Vialidad
                                        Nacional teams and the importance of roads in the country's connectivity.</p>
                                </div>
                            </div>

                            <div class="video-row">
                                <div class="video-embed">
                                    <iframe src="https://www.youtube.com/embed/SppKAlIo2Sc" frameborder="0"
                                        allowfullscreen></iframe>
                                </div>
                                <div class="video-description">
                                    <h4>New Regional Laboratories</h4>
                                    <p>Presentation of technological modernization at Vialidad Nacional, highlighting
                                        new regional laboratories and their impact on road material quality control.</p>
                                </div>
                            </div>

                            <div class="video-row">
                                <div class="video-embed">
                                    <iframe src="https://www.youtube.com/embed/yM5GciGtZVM" frameborder="0"
                                        allowfullscreen></iframe>
                                </div>
                                <div class="video-description">
                                    <h4>Winter Operation in Neuquén</h4>
                                    <p>Coverage of the special winter maintenance operation in Neuquén province, showing
                                        specific strategies to face adverse weather conditions.</p>
                                </div>
                            </div>

                            <div class="video-row">
                                <div class="video-embed">
                                    <iframe src="https://www.youtube.com/embed/o4A54NKJgHk" frameborder="0"
                                        allowfullscreen></iframe>
                                </div>
                                <div class="video-description">
                                    <h4>History of Vialidad Nacional</h4>
                                    <p>Historical documentary tracing the evolution of Vialidad Nacional from its
                                        origins, highlighting the most important milestones in the development of the
                                        Argentine road network.</p>
                                </div>
                            </div>

                            <div class="video-row">
                                <div class="video-embed">
                                    <iframe src="https://www.youtube.com/embed/2NbDimA2vTo" frameborder="0"
                                        allowfullscreen></iframe>
                                </div>
                                <div class="video-description">
                                    <h4>Road Day 2020</h4>
                                    <p>Celebration of Road Day during the special context of 2020, adapting protocols
                                        and highlighting the essential work of road maintenance teams.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="alpapuyo-video" id="alpapuyo-video" style="display: none;">
                        <div class="project-media">
                            <div class="video-embed-large">
                                <iframe src="https://www.youtube.com/embed/QOEcIGJvAEY?si=K2ii9NyhsY_Hv_Aj"
                                    title="YouTube video player" frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                            </div>
                        </div>
                    </div>

                    <div class="fiat-rectangles" id="fiat-rectangles" style="display: none;">
                        <h3>Gallery</h3>
                        <div class="rectangles-grid">
                            <div class="fiat-rectangle" data-instagram="https://www.instagram.com/reel/DEI-nL-Sgdg/">
                                <img src="Recursos/instagram1.jpg" alt="Instagram Post 1">
                            </div>
                            <div class="fiat-rectangle"
                                data-instagram="https://www.instagram.com/homeropettinato/reel/DFvP1x1x0vK/">
                                <img src="Recursos/instagram2.jpg" alt="Instagram Post 2">
                            </div>
                            <div class="fiat-rectangle"
                                data-instagram="https://www.instagram.com/homeropettinato/reel/DC47H39y1LR/">
                                <img src="Recursos/instagram3.jpg" alt="Instagram Post 3">
                            </div>
                            <div class="fiat-rectangle"
                                data-instagram="https://www.instagram.com/homeropettinato/reel/DHEwCDFSRu9/">
                                <img src="Recursos/instagram4.jpg" alt="Instagram Post 4">
                            </div>
                            <div class="fiat-rectangle"
                                data-instagram="https://www.instagram.com/homeropettinato/reel/DIUlXTzSBSg/">
                                <img src="Recursos/instagram5.jpg" alt="Instagram Post 5">
                            </div>
                        </div>
                    </div>

                    <div class="cosasviejas-video" id="cosasviejas-video" style="display: none;">
                        <div class="project-media">
                            <div class="video-embed-large">
                                <iframe src="https://www.youtube.com/embed/W9JAXVvoanM?si=_97XVH6xyIm5nV_J&amp;start=4"
                                    title="YouTube video player" frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                            </div>
                        </div>
                    </div>

                    <div class="roca-additional-video" id="roca-additional-video" style="display: none;">
                        <h3>Teaser</h3>
                        <div class="project-media">
                            <div class="video-embed-large">
                                <iframe src="https://www.youtube.com/embed/YhT1mZvRUR0?si=mXD55jjdJybgaJj-"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class VideoCarousel {
            constructor() {
                this.currentSlide = 0;
                this.slides = document.querySelectorAll('.video-slide');
                this.videos = document.querySelectorAll('.video-slide video');
                this.posters = document.querySelectorAll('.video-poster');
                this.progressDots = document.querySelectorAll('.nav-progress-dot'); // Changed to nav dots
                this.navItems = document.querySelectorAll('.nav-item');
                this.sections = document.querySelectorAll('.content-section');
                this.carousel = document.getElementById('carousel');
                this.soundToggle = document.getElementById('soundToggle');
                this.soundIcon = document.getElementById('soundIcon');
                this.pauseIcons = document.querySelectorAll('.pause-icon');
                this.videoClickables = document.querySelectorAll('.video-clickable');
                this.isMuted = true;
                this.isMobile = window.innerWidth <= 768;
                this.videosLoaded = new Set();
                this.videosLoading = new Set();
                this.connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
                this.isSlowConnection = this.connection && (this.connection.saveData || ['slow-2g', '2g', '3g'].includes(this.connection.effectiveType));

                // Video sources configuration
                this.videoSources = [
                    'Carrero',
                    'Roca',
                    'Vialidad_Nacional',
                    'FIAT',
                    'Alpapuyo',
                    'Cosas_Viejas'
                ];

                this.projectTitles = [
                    { title: 'CARRERO', subtitle: 'feature film', project: 'carrero' },
                    { title: 'ROCA', subtitle: 'documentary', project: 'roca' },
                    { title: 'VIALIDAD NACIONAL', subtitle: 'institutional', project: 'vialidad' },
                    { title: 'FIAT', subtitle: 'social media', project: 'fiat' },
                    { title: 'ALPAPUYO', subtitle: 'music video', project: 'alpapuyo' },
                    { title: 'COSAS VIEJAS', subtitle: 'short film', project: 'cosasviejas' }
                ];

                // Project data
                this.projectData = {
                    carrero: {
                        title: "CARRERO",
                        category: "Feature Film",
                        description: "Feature film premiered at BAFICI 2022, winner of Best Film and Best Cinematography. International premiere at SEMINCI, Spain.",
                        client: "Independent Production",
                        year: "2022",
                        duration: "Feature Film",
                        format: "4K 2:35:1 Anamorphic",
                        youtubeId: "kMbPUt84vRg",
                        link1: { text: "Watch Full Movie", url: "https://www.youtube.com/watch?v=1Yp5gZYMWew" },
                        link2: { text: "Watch Trailer", url: "https://youtu.be/kMbPUt84vRg?si=JbzHEvu9m3MNpObm" },
                        hasAwards: true,
                        hasReviews: true
                    },
                    roca: {
                        title: "ROCA",
                        category: "Documentary WIP",
                        description: "Documentary project about indigenous communities in Chaco, Argentina. Currently in development.",
                        client: "This documentary is in production.",
                        year: "2025 (In development)",
                        duration: "In production",
                        format: "4K Cinema",
                        video: "Recursos/Roca.mp4",
                        youtubeId: "-Q7NrS4_0L4",
                        hasVideo: true
                    },
                    vialidad: {
                        title: "VIALIDAD NACIONAL",
                        category: "Institutional Content",
                        description: "Directed multiple institutional campaigns as Head of the Audiovisual Area at Vialidad Nacional.",
                        client: "Vialidad Nacional",
                        year: "2020-2025",
                        duration: "Multiple projects",
                        format: "HD/4K",
                        video: "Recursos/VialidadNacional.mp4",
                        link1: { text: "2025 Comprehensive Maintenance Plan", url: "https://www.youtube.com/watch?v=s_XLHpwqQwc" },
                        link2: { text: "View More Projects", url: "#vialidad-projects" }
                    },
                    fiat: {
                        title: "FIAT",
                        category: "Automotive Commercial",
                        description: "Social media campaign for Fiat Toro featuring conductor-influencer Homero Petinatto.",
                        client: "FIAT Argentina",
                        year: "2024",
                        duration: "1:30",
                        format: "4K UHD",
                        video: "Recursos/FIAT.mp4",
                        link1: { text: "Watch Commercial", url: "#" },
                        link2: { text: "Behind the Scenes", url: "#" }
                    },
                    alpapuyo: {
                        title: "ALPAPUYO",
                        category: "Music Video",
                        description: "Award-winning animated music video for Mango Lafruta.",
                        client: "Mango Lafruta",
                        year: "2021",
                        duration: "Music Video",
                        format: "4K",
                        video: "Recursos/Alpapuyo.mp4",
                        link1: { text: "Watch Music Video", url: "https://www.youtube.com/watch?v=QOEcIGJvAEY" },
                        link2: { text: "More about the artist", url: "#" }
                    },
                    cosasviejas: {
                        title: "COSAS VIEJAS",
                        category: "Short Film",
                        description: "Short film about antique furniture restoration in San Telmo, Argentina.",
                        client: "Film Festival",
                        year: "2023",
                        duration: "12:15",
                        format: "4K Cinema",
                        video: "Recursos/CosasViejas.mp4",
                        link1: { text: "Watch Short Film", url: "https://youtu.be/W9JAXVvoanM" },
                        link2: { text: "Festival Selections", url: "#" }
                    }
                };

                this.init();
            }

            setupProjectNavigation() {
                // Project order array (same as home carousel)
                this.projectOrder = ['carrero', 'roca', 'vialidad', 'fiat', 'alpapuyo', 'cosasviejas'];
                this.currentProjectKey = null;

                // Bind navigation events
                document.getElementById('prevProjectBtn').addEventListener('click', () => {
                    this.navigateToProject('prev');
                });

                document.getElementById('nextProjectBtn').addEventListener('click', () => {
                    this.navigateToProject('next');
                });
            }

            navigateToProject(direction) {
                if (!this.currentProjectKey) return;

                const currentIndex = this.projectOrder.indexOf(this.currentProjectKey);
                let newIndex;

                if (direction === 'prev') {
                    newIndex = currentIndex === 0 ? this.projectOrder.length - 1 : currentIndex - 1;
                } else {
                    newIndex = currentIndex === this.projectOrder.length - 1 ? 0 : currentIndex + 1;
                }

                const newProjectKey = this.projectOrder[newIndex];
                this.showProjectDetail(newProjectKey, direction);
            }

            init() {
                // Keep it simple - original order worked better
                this.setupVideoSources();
                this.setupMobileLogo();
                this.loadFirstVideo();

                // Defer non-critical setup
                setTimeout(() => {
                    this.bindEvents();
                    this.setupCustomScrollbar();
                    this.setupMobileMenu();
                    this.setupProjectNavigation();
                    this.setupSwipeGestures();
                    this.setupYoutubeLazyLoading();
                    this.setupDynamicFooterPosition();
                    this.setupIntersectionObserver();
                }, 0);

                // Setup window resize listener for dynamic positioning with debounce
                let resizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(() => {
                        this.updateFooterPosition();
                        this.updateHeaderPosition();
                    }, 100);
                });

                // Listen for fullscreen changes
                document.addEventListener('fullscreenchange', () => this.updateFooterPosition());
                document.addEventListener('webkitfullscreenchange', () => this.updateFooterPosition());
                document.addEventListener('mozfullscreenchange', () => this.updateFooterPosition());
                document.addEventListener('msfullscreenchange', () => this.updateFooterPosition());
            }

            setupSwipeGestures() {
                if (!this.isMobile) return; // Only enable on mobile

                let startX = 0;
                let startY = 0;
                let endX = 0;
                let endY = 0;
                const minSwipeDistance = 50; // Minimum distance for swipe
                const maxVerticalDistance = 100; // Maximum vertical movement allowed

                this.carousel.addEventListener('touchstart', (e) => {
                    startX = e.touches[0].clientX;
                    startY = e.touches[0].clientY;
                }, { passive: true });

                this.carousel.addEventListener('touchend', (e) => {
                    endX = e.changedTouches[0].clientX;
                    endY = e.changedTouches[0].clientY;

                    const deltaX = endX - startX;
                    const deltaY = Math.abs(endY - startY);

                    // Check if it's a horizontal swipe (not vertical scroll)
                    if (Math.abs(deltaX) > minSwipeDistance && deltaY < maxVerticalDistance) {
                        if (deltaX > 0) {
                            // Swipe right - go to previous slide
                            this.prevSlide();
                        } else {
                            // Swipe left - go to next slide
                            this.nextSlide();
                        }
                    }
                }, { passive: true });
            }

            setupYoutubeLazyLoading() {
                // Apply lazy loading to ALL YouTube iframes — they load only when clicked
                const iframes = document.querySelectorAll('iframe[src*="youtube.com"]');
                iframes.forEach(iframe => {
                    const videoId = this.extractYouTubeId(iframe.src);
                    if (videoId) {
                        const placeholder = this.createYouTubePlaceholder(videoId, iframe);
                        iframe.parentNode.replaceChild(placeholder, iframe);
                    }
                });
            }

            extractYouTubeId(url) {
                const regex = /(?:youtube\.com\/embed\/|youtu\.be\/)([^?&]+)/;
                const match = url.match(regex);
                return match ? match[1] : null;
            }

            createYouTubePlaceholder(videoId, originalIframe) {
                const placeholder = document.createElement('div');
                placeholder.className = 'youtube-placeholder';
                placeholder.dataset.videoId = videoId;
                placeholder.dataset.src = originalIframe.src;

                // Copy original iframe attributes
                if (originalIframe.allow) placeholder.dataset.allow = originalIframe.allow;
                if (originalIframe.referrerPolicy) placeholder.dataset.referrerPolicy = originalIframe.referrerPolicy;

                // Add YouTube thumbnail
                const img = document.createElement('img');
                img.src = `https://img.youtube.com/vi/${videoId}/hqdefault.jpg`;
                img.alt = 'Video thumbnail';
                img.loading = 'lazy';
                placeholder.appendChild(img);

                // Add play button overlay
                const playBtn = document.createElement('div');
                playBtn.className = 'yt-play-btn';
                playBtn.innerHTML = '<svg viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.63-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="#212121" fill-opacity=".8"/><path d="M45 24L27 14v20" fill="#fff"/></svg>';
                placeholder.appendChild(playBtn);

                placeholder.addEventListener('click', () => {
                    this.loadYouTubeVideo(placeholder);
                });

                return placeholder;
            }

            loadYouTubeVideo(placeholder) {
                placeholder.classList.add('loading');

                const iframe = document.createElement('iframe');
                iframe.src = placeholder.dataset.src;
                iframe.frameBorder = '0';
                iframe.allowFullscreen = true;
                iframe.style.width = '100%';
                iframe.style.height = '100%';
                iframe.style.borderRadius = '8px';

                if (placeholder.dataset.allow) iframe.allow = placeholder.dataset.allow;
                if (placeholder.dataset.referrerPolicy) iframe.referrerPolicy = placeholder.dataset.referrerPolicy;

                placeholder.parentNode.replaceChild(iframe, placeholder);
            }

            setupDynamicFooterPosition() {
                // Initialize footer immediately
                this.updateFooterPosition();

                // Delay header positioning until video dimensions are available
                setTimeout(() => {
                    const firstVideo = this.videos[0];
                    if (firstVideo && firstVideo.videoHeight > 0) {
                        // Video has dimensions, safe to position header
                        this.updateHeaderPosition();
                    } else {
                        // Video not ready, wait for loadedmetadata event
                        firstVideo.addEventListener('loadedmetadata', () => {
                            setTimeout(() => this.updateHeaderPosition(), 100);
                        }, { once: true });
                    }
                }, 200);
            }

            updateHeaderPosition() {
                const nav = document.querySelector('.nav');
                const carousel = document.getElementById('carousel');
                const currentVideo = this.videos[this.currentSlide];

                if (!nav || !carousel || !currentVideo) return;

                // Disable dynamic position only if not in trabajos section
                if (carousel.style.display === 'none') {
                    nav.classList.remove('dynamic-position');
                    nav.style.top = '';
                    nav.style.bottom = '';
                    return;
                }

                // Single calculation to prevent multiple layout shifts
                const updatePosition = () => {
                    const videoRect = currentVideo.getBoundingClientRect();
                    const navHeight = this.isMobile ? 50 : 60;
                    const spaceAbove = videoRect.top;

                    // Calculate centered position
                    const mobileOffset = 0; // Final adjustment at 0
                    const centerPosition = (spaceAbove / 2) - (navHeight / 2) + mobileOffset;
                    const finalPosition = Math.max(centerPosition, 0);

                    // Apply position if change is significant (>1px mobile, >10px desktop)
                    const currentTop = parseInt(nav.style.top) || 0;
                    const threshold = this.isMobile ? 1 : 10;
                    if (Math.abs(currentTop - finalPosition) > threshold) {
                        nav.classList.add('dynamic-position');
                        nav.style.top = finalPosition + 'px';
                        nav.style.bottom = 'auto';
                    }
                };

                // Single execution to prevent multiple shifts
                updatePosition();
            }

            updateFooterPosition() {
                const bottomNav = document.querySelector('.bottom-nav');
                const carousel = document.getElementById('carousel');
                const currentVideo = this.videos[this.currentSlide];

                if (!bottomNav || !carousel || !currentVideo) return;

                // Disable dynamic position only if not in trabajos section
                if (carousel.style.display === 'none') {
                    bottomNav.classList.remove('dynamic-position');
                    bottomNav.style.bottom = '';
                    bottomNav.style.top = '';
                    bottomNav.style.transform = '';
                    return;
                }

                // Wait for video to be loaded and get accurate dimensions
                const updatePosition = () => {
                    const videoRect = currentVideo.getBoundingClientRect();
                    const navHeight = this.isMobile ? 70 : 60;

                    // Use visual viewport if available (more accurate for actual visible area)
                    const actualViewportHeight = window.visualViewport ?
                        window.visualViewport.height : window.innerHeight;

                    // Safety margin only to prevent going behind taskbar (reduced to 5px - minimum recommended)
                    const taskbarSafetyMargin = 5;
                    const absoluteMaxTop = actualViewportHeight - navHeight - taskbarSafetyMargin;

                    // Calculate the space below the video
                    const spaceBelow = actualViewportHeight - videoRect.bottom;

                    let finalPosition;

                    // Logic: prioritize being below video, center only if there's good space
                    if (spaceBelow >= navHeight + 20) {
                        // Enough space below video - try to center in that space
                        const centerPosition = videoRect.bottom + (spaceBelow / 2) - (navHeight / 2);
                        finalPosition = Math.min(centerPosition, absoluteMaxTop);
                    } else if (spaceBelow >= navHeight) {
                        // Just enough space - position right below video
                        finalPosition = Math.min(videoRect.bottom + 10, absoluteMaxTop);
                    } else {
                        // Not enough space below - position as low as safely possible
                        finalPosition = absoluteMaxTop;
                    }

                    // Final safety check - never go above reasonable minimum
                    finalPosition = Math.max(finalPosition, 10);

                    // Force position properties
                    bottomNav.style.position = 'fixed';
                    bottomNav.style.zIndex = '1000';
                    bottomNav.style.left = '0';
                    bottomNav.style.right = '0';
                    bottomNav.style.width = '100%';
                    bottomNav.style.bottom = 'auto';
                    bottomNav.style.top = finalPosition + 'px';
                    bottomNav.classList.add('dynamic-position');

                    // Debug log for troubleshooting

                };

                // Try multiple times with increasing delays
                updatePosition();
                setTimeout(updatePosition, 50);
                setTimeout(updatePosition, 200);
                setTimeout(updatePosition, 500);
            }

            setupMobileLogo() {
                const logo = document.querySelector('.logo');
                const updateLogo = () => {
                    if (window.innerWidth <= 768) {
                        logo.textContent = 'vaso';
                    } else {
                        logo.textContent = 'vaso';
                    }
                };

                updateLogo();
                window.addEventListener('resize', updateLogo);
            }

            setupMobileMenu() {
                const hamburgerMenu = document.getElementById('hamburgerMenu');
                const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');

                hamburgerMenu.addEventListener('click', () => {
                    hamburgerMenu.classList.toggle('active');
                    mobileMenuOverlay.classList.toggle('active');
                });

                // Close mobile menu when clicking on menu items
                document.querySelectorAll('.mobile-nav-item, .mobile-project-item').forEach(item => {
                    item.addEventListener('click', () => {
                        hamburgerMenu.classList.remove('active');
                        mobileMenuOverlay.classList.remove('active');

                        // Handle navigation
                        if (item.dataset.section) {
                            this.handleNavigation(item.dataset.section);
                        } else if (item.dataset.project) {
                            this.showProjectDetail(item.dataset.project);
                        }
                    });
                });

                // Close mobile menu when clicking outside
                document.addEventListener('click', (e) => {
                    if (!hamburgerMenu.contains(e.target) && !mobileMenuOverlay.contains(e.target)) {
                        hamburgerMenu.classList.remove('active');
                        mobileMenuOverlay.classList.remove('active');
                    }
                });
            }

            setupCustomScrollbar() {
                const scrollContainer = document.getElementById('projectDetailWrapper');
                const bioTextContainer = document.getElementById('bioTextContainer');
                const customScrollbar = document.getElementById('customScrollbar');
                const scrollThumb = document.getElementById('customScrollbarThumb');
                let scrollTimeout;

                const updateScrollbar = (container) => {
                    if (!container || !customScrollbar || !scrollThumb) return;

                    const scrollTop = container.scrollTop;
                    const scrollHeight = container.scrollHeight;
                    const containerHeight = container.clientHeight;

                    // Calculate thumb height and position
                    const thumbHeight = Math.max((containerHeight / scrollHeight) * customScrollbar.offsetHeight, 20);
                    const maxScrollTop = scrollHeight - containerHeight;
                    const thumbTop = (scrollTop / maxScrollTop) * (customScrollbar.offsetHeight - thumbHeight);

                    scrollThumb.style.height = thumbHeight + 'px';
                    scrollThumb.style.top = (isNaN(thumbTop) ? 0 : thumbTop) + 'px';

                    // Show scrollbar while scrolling
                    scrollThumb.classList.add('scrolling');

                    // Hide after scrolling stops
                    clearTimeout(scrollTimeout);
                    scrollTimeout = setTimeout(() => {
                        scrollThumb.classList.remove('scrolling');
                    }, 1000);
                };

                const showHideScrollbar = () => {
                    const projectDetailSection = document.getElementById('project-detail');
                    const aboutSection = document.getElementById('about');

                    if (projectDetailSection && projectDetailSection.classList.contains('active')) {
                        customScrollbar.style.display = 'block';
                        updateScrollbar(scrollContainer);
                    } else if (aboutSection && aboutSection.classList.contains('active')) {
                        customScrollbar.style.display = 'block';
                        updateScrollbar(bioTextContainer);
                    } else {
                        customScrollbar.style.display = 'none';
                    }
                };

                // Bind scroll events for both containers
                if (scrollContainer) scrollContainer.addEventListener('scroll', () => updateScrollbar(scrollContainer));
                if (bioTextContainer) bioTextContainer.addEventListener('scroll', () => updateScrollbar(bioTextContainer));

                // Show/hide scrollbar based on active section
                const observer = new MutationObserver(showHideScrollbar);
                observer.observe(document.getElementById('project-detail'), {
                    attributes: true,
                    attributeFilter: ['class']
                });
                observer.observe(document.getElementById('about'), {
                    attributes: true,
                    attributeFilter: ['class']
                });

                // Initial setup
                showHideScrollbar();
            }

            setupVideoSources() {
                this.videos.forEach((video, index) => {
                    const baseName = this.videoSources[index];

                    // Set poster image with robust helper
                    const posterPath = this.getPosterPath(baseName, this.isMobile);

                    video.poster = posterPath;
                    if (this.posters[index]) {
                        this.posters[index].src = posterPath;
                    }

                    // Clear existing sources
                    video.innerHTML = '';

                    // Create video sources with smart fallbacks
                    this.createVideoSources(video, baseName);
                });
            }

            createVideoSources(video, baseName) {
                const sources = [];

                if (this.isMobile) {
                    // Mobile: vertical first (solo MP4), then horizontal fallbacks
                    sources.push(
                        { src: `Recursos/${baseName}-vertical.mp4`, type: 'video/mp4' },
                        { src: `Recursos/${baseName}-horizontal.webm`, type: 'video/webm' },
                        { src: `Recursos/${baseName}-horizontal.mp4`, type: 'video/mp4' },
                        { src: `Recursos/${baseName}.webm`, type: 'video/webm' },
                        { src: `Recursos/${baseName}.mp4`, type: 'video/mp4' }
                    );
                } else {
                    // Desktop: horizontal only
                    sources.push(
                        { src: `Recursos/${baseName}-horizontal.webm`, type: 'video/webm' },
                        { src: `Recursos/${baseName}-horizontal.mp4`, type: 'video/mp4' },
                        { src: `Recursos/${baseName}.webm`, type: 'video/webm' },
                        { src: `Recursos/${baseName}.mp4`, type: 'video/mp4' }
                    );
                }

                // Add sources to video element
                sources.forEach(sourceData => {
                    const source = document.createElement('source');
                    source.src = sourceData.src;
                    source.type = sourceData.type;
                    video.appendChild(source);
                });

                // Add error handling for graceful fallback
                video.addEventListener('error', () => {
                    console.log(`Video error for ${baseName}, trying next source`);
                });
            }

            getPosterPath(baseName, isMobile) {
                const orientation = isMobile ? 'vertical' : 'horizontal';

                // Special mapping for inconsistencies in Recursos folder
                const mapping = {
                    'Carrero': {
                        'vertical': 'Recursos/carrerovertical.jpg',
                        'horizontal': 'Recursos/carrerohorizontal.jpg'
                    },
                    'Alpapuyo': {
                        'vertical': 'Recursos/Alpapuyo-Vertical.jpg',
                        'horizontal': 'Recursos/Alpapuyo.jpg'
                    },
                    'FIAT': {
                        'vertical': 'Recursos/fiat-vertical.jpg',
                        'horizontal': 'Recursos/fiat-horizontal.jpg'
                    },
                    'Roca': {
                        'vertical': 'Recursos/roca-vertical.jpg',
                        'horizontal': 'Recursos/roca-horizontal.jpg'
                    }
                };

                if (mapping[baseName]) {
                    return mapping[baseName][orientation] || mapping[baseName]['horizontal'];
                }

                // Default pattern: Name-orientation.jpg
                return `Recursos/${baseName}-${orientation}.jpg`;
            }

            loadFirstVideo() {
                // Initial load: Only the first video
                this.loadVideo(0, true);

                // Initialize project info
                this.updateProjectInfo();

                // Setup smart preload: preload next video when current reaches 75%
                this.setupSmartPreload();
            }

            setupSmartPreload() {
                this.videos.forEach((video, index) => {
                    video.addEventListener('timeupdate', () => {
                        if (video.duration && video.currentTime / video.duration >= 0.75) {
                            const nextIndex = (index + 1) % this.videos.length;
                            this.loadVideo(nextIndex);
                        }
                    });
                });
            }

            setupIntersectionObserver() {
                const options = {
                    root: null, // use viewport
                    rootMargin: '200px', // start loading 200px before it enters
                    threshold: 0.01
                };

                this.observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const index = Array.from(this.slides).indexOf(entry.target);
                            if (index !== -1) {
                                this.loadVideo(index);
                            }
                        }
                    });
                }, options);

                // Observe all slides
                this.slides.forEach(slide => this.observer.observe(slide));
            }

            loadVideo(index, immediate = false) {
                if (this.videosLoaded.has(index) || this.videosLoading.has(index)) return;

                this.videosLoading.add(index);
                const video = this.videos[index];

                // Set high quality poster path with robust helper
                const baseName = this.videoSources[index];
                const posterPath = this.getPosterPath(baseName, this.isMobile);

                video.poster = posterPath;
                if (this.posters[index]) {
                    this.posters[index].src = posterPath;
                }

                video.preload = 'auto'; // Change to auto for observed videos

                const loadHandler = () => {
                    this.videosLoaded.add(index);
                    this.videosLoading.delete(index);
                    if (index === this.currentSlide) {
                        this.playCurrentVideo();
                    }
                };

                const playingHandler = () => {
                    this.slides[index].classList.add('v-playing');
                };

                video.addEventListener('canplay', loadHandler, { once: true });
                video.addEventListener('playing', playingHandler, { once: true });

                // Error handling
                video.addEventListener('error', () => {
                    console.log(`Error loading video ${index}, fallback to poster`);
                    this.videosLoading.delete(index);
                }, { once: true });

                if (video.readyState < 2) {
                    video.load();
                } else {
                    loadHandler();
                }

                // If slow connection, stop at loading the essential ones
                if (this.isSlowConnection && !immediate && index !== this.currentSlide) {
                    video.preload = 'none';
                }
            }

            bindEvents() {
                // Navigation arrows
                document.getElementById('prevBtn').addEventListener('click', () => this.prevSlide());
                document.getElementById('nextBtn').addEventListener('click', () => this.nextSlide());

                // Progress dots
                this.progressDots.forEach((dot, index) => {
                    dot.addEventListener('click', () => this.goToSlide(index));
                });

                // Sound toggle
                this.soundToggle.addEventListener('click', () => this.toggleSound());

                // Video click to pause/play usando área clickeable
                this.videoClickables.forEach((clickable, index) => {
                    clickable.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        this.toggleVideoPlayback(index);
                    });
                });

                // Project title and subtitle click to go to project detail
                document.querySelectorAll('.project-title, .project-subtitle').forEach(element => {
                    element.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        this.showProjectDetail(element.dataset.project);
                    });
                });

                // Navigation menu
                this.navItems.forEach(item => {
                    item.addEventListener('click', (e) => {
                        if (item.classList.contains('lang-toggle')) return;
                        e.preventDefault();
                        this.handleNavigation(item.dataset.section);
                    });
                });

                // Dropdown items
                document.querySelectorAll('.dropdown-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.showProjectDetail(item.dataset.project);
                    });
                });

                // Back button
                document.getElementById('backBtn').addEventListener('click', () => {
                    this.showSection('trabajos');
                });

                // Video ended event
                this.videos.forEach(video => {
                    video.addEventListener('ended', () => this.nextSlide());
                });

                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft') this.prevSlide();
                    if (e.key === 'ArrowRight') this.nextSlide();
                    if (e.key === 'Escape') this.showSection('trabajos');
                    if (e.key === ' ') {
                        e.preventDefault();
                        this.toggleVideoPlayback(this.currentSlide);
                    }
                });

                // Email Copy Listener
                const emailLink = document.getElementById('contactEmail');
                if (emailLink) {
                    emailLink.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.copyEmail(emailLink.textContent.trim());
                    });
                }
            }

            goToSlide(index) {
                this.slides[this.currentSlide].classList.remove('active');
                this.slides[this.currentSlide].classList.remove('v-playing');
                this.progressDots[this.currentSlide].classList.remove('active');
                this.videos[this.currentSlide].pause();

                this.currentSlide = index;

                this.slides[this.currentSlide].classList.add('active');
                this.progressDots[this.currentSlide].classList.add('active');
                this.updateProjectInfo();
                this.playCurrentVideo();

                // Update positions only after significant slide changes
                setTimeout(() => {
                    this.updateFooterPosition();
                    this.updateHeaderPosition();
                }, 200); // Slightly longer delay to ensure stability
            }

            updateProjectInfo() {
                const projectInfo = this.projectTitles[this.currentSlide];
                const titleElement = document.querySelector('.project-title');
                const subtitleElement = document.querySelector('.project-subtitle');

                titleElement.textContent = projectInfo.title;
                titleElement.dataset.project = projectInfo.project;
                subtitleElement.textContent = projectInfo.subtitle;
                subtitleElement.dataset.project = projectInfo.project;
            }

            nextSlide() {
                const nextIndex = (this.currentSlide + 1) % this.slides.length;
                this.goToSlide(nextIndex);
            }

            prevSlide() {
                const prevIndex = (this.currentSlide - 1 + this.slides.length) % this.slides.length;
                this.goToSlide(prevIndex);
            }

            playCurrentVideo() {
                const video = this.videos[this.currentSlide];

                // If video already loaded, play immediately
                if (video.readyState >= 2) {
                    video.muted = this.isMuted;
                    video.play().then(() => {
                        this.slides[this.currentSlide].classList.add('v-playing');
                    }).catch(e => console.log('Error playing video:', e));
                } else {
                    // Wait for it
                    video.load();
                }

                // Update positions when video metadata is loaded
                if (video.videoHeight > 0) {
                    this.updateFooterPosition();
                    this.updateHeaderPosition();
                } else {
                    video.addEventListener('loadedmetadata', () => {
                        setTimeout(() => {
                            this.updateFooterPosition();
                            this.updateHeaderPosition();
                        }, 100);
                    }, { once: true });
                }
            }

            toggleVideoPlayback(index) {
                const video = this.videos[index];
                const pauseIcon = this.pauseIcons[index];

                if (video.paused) {
                    video.play().catch(e => console.log('Error playing video:', e));
                } else {
                    video.pause();
                    this.showPauseIcon(pauseIcon);
                }
            }

            showPauseIcon(pauseIcon) {
                pauseIcon.classList.add('show');
                setTimeout(() => {
                    pauseIcon.classList.remove('show');
                }, 800);
            }

            toggleSound() {
                this.isMuted = !this.isMuted;
                this.videos[this.currentSlide].muted = this.isMuted;

                if (this.isMuted) {
                    this.soundIcon.innerHTML = '<path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>';
                } else {
                    this.soundIcon.innerHTML = '<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>';
                }
            }

            handleNavigation(section) {
                // Update active nav item
                this.navItems.forEach(item => item.classList.remove('active'));
                document.querySelector(`[data-section="${section}"]`).classList.add('active');

                this.showSection(section);
            }

            showSection(section) {
                if (section === 'trabajos') {
                    this.carousel.style.display = 'block';
                    this.sections.forEach(s => s.classList.remove('active'));

                    // Show navigation elements for trabajos
                    document.querySelector('.nav-progress-dots').style.display = 'flex';
                    document.querySelector('.bottom-nav').style.display = 'flex';

                    // Reactivar el video actual al volver a trabajos
                    setTimeout(() => {
                        this.playCurrentVideo();
                        this.updateFooterPosition();
                    }, 100);
                } else {
                    this.carousel.style.display = 'none';
                    this.sections.forEach(s => s.classList.remove('active'));
                    document.getElementById(section).classList.add('active');

                    // Hide navigation elements for other sections
                    document.querySelector('.nav-progress-dots').style.display = 'none';
                    document.querySelector('.bottom-nav').style.display = 'none';

                    // Pause current video when not in trabajos section
                    this.videos[this.currentSlide].pause();
                }
            }

            showProjectDetail(projectKey, direction = 'up') {
                const originalEl = document.getElementById('project-detail');
                const isAlreadyActive = originalEl.classList.contains('active');

                // 1. CLONE current state for EXIT if we're navigating project-to-project
                if (isAlreadyActive) {
                    const clone = originalEl.cloneNode(true);
                    clone.id = ''; // Avoid ID conflicts
                    clone.classList.add('is-exiting-clone');
                    originalEl.parentNode.appendChild(clone);

                    // Start exit on clone immediately
                    let exitClass = 'exit-down';
                    if (direction === 'next') exitClass = 'exit-left';
                    else if (direction === 'prev') exitClass = 'exit-right';

                    requestAnimationFrame(() => {
                        clone.classList.add('is-exiting', exitClass);
                    });

                    // Cleanup clone after transition
                    setTimeout(() => clone.remove(), 500);
                }

                const performUpdate = () => {
                    const project = this.projectData[projectKey];
                    if (!project) return;

                    this.currentProjectKey = projectKey;

                    // Header/Nav visibility
                    document.querySelector('.nav-progress-dots').style.display = 'none';
                    document.querySelector('.bottom-nav').style.display = 'none';

                    // Update contents
                    document.getElementById('projectTitle').textContent = project.title;
                    document.getElementById('projectCategory').textContent = project.category;
                    document.getElementById('projectDescription').textContent = project.description;

                    const detailGridStandard = document.getElementById('detail-grid-standard');
                    const projectDetailsRoca = document.getElementById('project-details-roca');
                    if (projectKey === 'roca') {
                        detailGridStandard.style.display = 'none';
                        projectDetailsRoca.style.display = 'block';
                        document.getElementById('projectClientRoca').textContent = project.client;
                    } else {
                        detailGridStandard.style.display = 'grid';
                        projectDetailsRoca.style.display = 'none';
                        document.getElementById('projectClient').textContent = project.client;
                        document.getElementById('projectYear').textContent = project.year;
                        document.getElementById('projectDuration').textContent = project.duration;
                        document.getElementById('projectFormat').textContent = project.format;
                    }

                    // Media
                    const projectYouTube = document.getElementById('projectYouTube');
                    const projectVideo = document.getElementById('projectVideo');
                    if (projectKey === 'roca') {
                        projectYouTube.parentElement.style.display = 'none';
                    } else if (project.youtubeId) {
                        projectYouTube.src = `https://www.youtube.com/embed/${project.youtubeId}?modestbranding=1&rel=0&controls=1&showinfo=0&cc_load_policy=0&iv_load_policy=3&autohide=1&color=white&theme=dark`;
                        projectYouTube.parentElement.style.display = 'block';
                        if (projectVideo) projectVideo.parentElement.style.display = 'none';
                    } else if (project.video) {
                        if (projectVideo) {
                            projectVideo.src = project.video;
                            projectVideo.parentElement.style.display = 'block';
                        }
                        projectYouTube.parentElement.style.display = 'none';
                    }

                    // Links
                    const linksSection = document.querySelector('.project-links');
                    if (projectKey === 'roca' || projectKey === 'vialidad' || projectKey === 'fiat') {
                        linksSection.style.display = 'none';
                    } else {
                        linksSection.style.display = 'block';
                        const link1 = document.getElementById('projectLink1');
                        const link2 = document.getElementById('projectLink2');
                        if (projectKey === 'alpapuyo' || projectKey === 'cosasviejas') {
                            link1.textContent = project.link1.text;
                            link1.href = project.link1.url;
                            link1.style.display = 'inline-block';
                            link2.style.display = 'none';
                        } else if (project.link1 && project.link2) {
                            link1.textContent = project.link1.text;
                            link1.href = project.link1.url;
                            link1.style.display = 'inline-block';
                            link2.textContent = project.link2.text;
                            link2.href = project.link2.url;
                            link2.style.display = 'inline-block';
                        }
                    }

                    // Toggle visibility of conditional sections
                    document.getElementById('vialidad-projects').style.display = projectKey === 'vialidad' ? 'block' : 'none';
                    document.getElementById('roca-additional-video').style.display = projectKey === 'roca' ? 'block' : 'none';
                    if (projectKey === 'fiat') {
                        document.getElementById('fiat-rectangles').style.display = 'block';
                        this.setupInstagramLinks();
                    } else {
                        document.getElementById('fiat-rectangles').style.display = 'none';
                    }
                    document.getElementById('alpapuyo-video').style.display = projectKey === 'alpapuyo' ? 'block' : 'none';
                    document.getElementById('cosasviejas-video').style.display = projectKey === 'cosasviejas' ? 'block' : 'none';
                    document.getElementById('project-awards').style.display = project.hasAwards ? 'block' : 'none';
                    document.getElementById('project-reviews').style.display = project.hasReviews ? 'block' : 'none';

                    // Reset Classes and Start Entry
                    this.carousel.style.display = 'none';
                    this.sections.forEach(s => s.classList.remove('active'));
                    originalEl.classList.remove('active', 'slide-left', 'slide-right', 'is-exiting', 'exit-left', 'exit-right');

                    if (direction === 'next') originalEl.classList.add('slide-right');
                    else if (direction === 'prev') originalEl.classList.add('slide-left');

                    // Trigger Entry animation
                    originalEl.offsetHeight;
                    requestAnimationFrame(() => {
                        originalEl.classList.add('active');
                    });

                    if (this.videos[this.currentSlide]) this.videos[this.currentSlide].pause();
                };

                // Immediate update (clone handles the exit visual)
                performUpdate();
            }

            setupInstagramLinks() {
                // Setup click events for Instagram rectangles
                document.querySelectorAll('.fiat-rectangle').forEach(rectangle => {
                    rectangle.addEventListener('click', (e) => {
                        e.preventDefault();
                        const instagramUrl = rectangle.dataset.instagram;
                        if (instagramUrl) {
                            window.open(instagramUrl, '_blank');
                        }
                    });
                });
            }

            copyEmail(email) {
                navigator.clipboard.writeText(email).then(() => {
                    this.showToast('e-mail copied');
                }).catch(err => {
                    console.error('Error al copiar: ', err);
                });
            }

            showToast(message) {
                let toast = document.querySelector('.copy-toast');
                if (!toast) {
                    toast = document.createElement('div');
                    toast.className = 'copy-toast';
                    document.body.appendChild(toast);
                }

                toast.textContent = message;
                toast.classList.add('show');

                setTimeout(() => {
                    toast.classList.remove('show');
                }, 2000);
            }
        }

        // Initialize carousel when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new VideoCarousel();
        });
    </script>
</body>

</html>